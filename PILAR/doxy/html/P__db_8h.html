<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>P_db.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>P_db.h File Reference</h1>Generic database access functions. 
<a href="#_details">More...</a>
<p>

<p>
<a href="P__db_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef void *&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a0">db_t</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>typedef void *db_t; Type definition for a generic database.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="P__db_8c.html#a18">db_t</a>&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a1">db_open</a> (char *<a class="el" href="P__db_8c.html#a30">db_filnam</a>, int db_type)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Opens a protein database.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="portable_8h.html#a78">status</a>&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a2">db_next_protein</a> (<a class="el" href="P__db_8c.html#a18">db_t</a>, <a class="el" href="structprotein__t.html">protein_t</a> *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get next protein from the database.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="portable_8h.html#a78">status</a>&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a3">db_seek_protein</a> (<a class="el" href="P__db_8c.html#a18">db_t</a>, <a class="el" href="structindex__t.html">index_t</a> *, <a class="el" href="structprotein__t.html">protein_t</a> *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the information about a protein from the database.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a4">db_name</a> (<a class="el" href="P__db_8c.html#a18">db_t</a> <a class="el" href="Pilar__5_8c.html#a9">db</a>, char *filnam)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return the database file name.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a5">db_close</a> (<a class="el" href="P__db_8c.html#a18">db_t</a> <a class="el" href="Pilar__5_8c.html#a9">db</a>)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Close the specified database.</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a6">db_type</a> (<a class="el" href="P__db_8c.html#a18">db_t</a> <a class="el" href="Pilar__5_8c.html#a9">db</a>)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="portable_8h.html#a78">status</a>&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a7">idx_open</a> (char *file)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Open index file.</em> <a href="#a7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="portable_8h.html#a78">status</a>&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a8">idx_close</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Close the index file.</em> <a href="#a8">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="portable_8h.html#a78">status</a>&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a9">idx_name</a> (char *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return name of the last index file read.</em> <a href="#a9">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="portable_8h.html#a78">status</a>&nbsp;</td><td valign=bottom><a class="el" href="P__db_8h.html#a10">get_index</a> (<a class="el" href="structindex__t.html">index_t</a> *<a class="el" href="mpq_8c.html#a9">idx</a>)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read index from index file.</em> <a href="#a10">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Generic database access functions.
<p>
 
<p>
 Header file with the definitions pertaining to module <a class="el" href="P__db_8c.html">P_db.c</a>. It is usually included via <a class="el" href="P__extern_8h.html">P_extern.h</a>
<p>
Requires PORTABLE.H for definition of type status.
<p>
<dl compact><dt><b>
See also: </b><dd>
<a class="el" href="portable_8h.html">portable.h</a></dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde  </dl><dl compact><dt><b>
Date: </b><dd>
8-apr-1990</dl><hr><h2>Typedef Documentation</h2>
<a name="a0" doxytag="P_db.h::db_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef void* db_t
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
typedef void *db_t; Type definition for a generic database.
<p>

<p>
 This typedef hides the actual structure definition of db_t from  module users. It forces it to be used as a black box.     </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a5" doxytag="P_db.h::db_close"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void db_close </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="P__db_8c.html#a18">db_t</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>db</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the specified database.
<p>

<p>
 <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>db</em>&nbsp;</td><td>
Database to be closed.</td></tr>
</table>
</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="P_db.h::db_name"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void db_name </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="P__db_8c.html#a18">db_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>db</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filnam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the database file name.
<p>

<p>
 Returns the current database file name by copying it into the supplied string.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>db</em>&nbsp;</td><td>
The database whose filename we want to know. </td></tr>
<tr><td valign=top><em>filnam</em>&nbsp;</td><td>
String to which the name must be copied.</td></tr>
</table>
</dl><dl compact><dt><b>
Warning: </b><dd>
The routine ASSUMES that this string is long enough.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="P_db.h::db_next_protein"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="portable_8h.html#a78">status</a> db_next_protein </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="P__db_8c.html#a18">db_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>db</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structprotein__t.html">protein_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>prot</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get next protein from the database.
<p>

<p>
 Gets next protein from the database. It sequentially access the database and reads the protein name and sequence. Also it gets the index of the protein into the database and obtains the access keywords.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>db</em>&nbsp;</td><td>
Database to get the protein from. </td></tr>
<tr><td valign=top><em>prot</em>&nbsp;</td><td>
Structure of type protein to store the read sequence</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
TRUE if we could read a new protein, FALSE otherwise.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="P_db.h::db_open"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="P__db_8c.html#a18">db_t</a> db_open </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>db_filnam</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>db_type</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Opens a protein database.
<p>

<p>
 It first tries to open the file. If succeeded then it reads the first line in the database and sets the pointer into the file appropriately. Also saves the current database name for possible use later.<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>db_filnam</em>&nbsp;</td><td>
The database file name. </td></tr>
<tr><td valign=top><em>db_type</em>&nbsp;</td><td>
The type of database (if known) or 0 if unkown.</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
a pointer to a database structure.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a3" doxytag="P_db.h::db_seek_protein"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="portable_8h.html#a78">status</a> db_seek_protein </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="P__db_8c.html#a18">db_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>db</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structindex__t.html">index_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>p_index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structprotein__t.html">protein_t</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>the_prot</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the information about a protein from the database.
<p>

<p>
 Gets the information about a protein from the current database. It access the file directly by using the supplied index. Obtains all the info about the protein and updates its structure appropriately<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>db</em>&nbsp;</td><td>
Database to get the protein from. </td></tr>
<tr><td valign=top><em>p_index</em>&nbsp;</td><td>
Index of the sequence to retrieve </td></tr>
<tr><td valign=top><em>the_prot</em>&nbsp;</td><td>
Protein structure to receive the sequence</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
TRUE if success, FALSE if not.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="P_db.h::db_type"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int db_type </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="P__db_8c.html#a18">db_t</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>db</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a10" doxytag="P_db.h::get_index"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="portable_8h.html#a78">status</a> get_index </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structindex__t.html">index_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>idx</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read index from index file.
<p>

<p>
 <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>idx</em>&nbsp;</td><td>
Structure to hold the read index.</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
TRUE if success, FALSE if not.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a8" doxytag="P_db.h::idx_close"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="portable_8h.html#a78">status</a> idx_close </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the index file.
<p>

<p>
 <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
Name of index file.</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
TRUE if success, FALSE if not.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a9" doxytag="P_db.h::idx_name"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="portable_8h.html#a78">status</a> idx_name </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>name</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return name of the last index file read.
<p>

<p>
 <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
String to store the name in.</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
TRUE if success, FALSE if not.</dl><dl compact><dt><b>
Warning: </b><dd>
It is assumed that the string passed as argument is long enough.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<a name="a7" doxytag="P_db.h::idx_open"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="portable_8h.html#a78">status</a> idx_open </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>file</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open index file.
<p>

<p>
 <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
Name of index file.</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
TRUE if success, FALSE if not.</dl><dl compact><dt><b>
Author: </b><dd>
J. R. Valverde </dl>    </td>
  </tr>
</table>
<hr><address><small>Generated on Fri May 30 14:15:22 2003 for PILAR by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
